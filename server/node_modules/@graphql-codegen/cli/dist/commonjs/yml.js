"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const js_yaml_1 = require("js-yaml");
function parseConfigFile(ymlString) {
    if (typeof process !== 'undefined' && 'env' in process) {
        ymlString = ymlString.replace(/\$\{(.*)\}/g, (str, variable, index) => {
            let varName = variable;
            let defaultValue = '';
            if (variable.includes(':')) {
                const spl = variable.split(':');
                varName = spl.shift();
                defaultValue = spl.join(':');
            }
            return process.env[varName] || defaultValue;
        });
    }
    return js_yaml_1.safeLoad(ymlString);
}
exports.parseConfigFile = parseConfigFile;
//# sourceMappingURL=yml.js.map