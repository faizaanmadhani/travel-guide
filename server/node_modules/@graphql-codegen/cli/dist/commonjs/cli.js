#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const generate_and_save_1 = require("./generate-and-save");
const init_1 = require("./init");
const cli_error_1 = require("./utils/cli-error");
const config_1 = require("./config");
const hooks_1 = require("./hooks");
const [, , cmd] = process.argv;
switch (cmd) {
    case 'init':
        init_1.init()
            .then(() => {
            process.exit(0);
        })
            .catch(cli_error_1.cliError);
        break;
    default: {
        const config = config_1.createConfig();
        config.then(config => {
            return generate_and_save_1.generate(config)
                .then(() => {
                process.exit(0);
            })
                .catch(async (error) => {
                await hooks_1.lifecycleHooks(config.hooks).onError(error.toString());
                cli_error_1.cliError(error);
            });
        });
    }
}
//# sourceMappingURL=cli.js.map